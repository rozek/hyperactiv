{"version":3,"file":"index.js","sources":["../../src/handlers/all.js","../../src/handlers/write.js","../../src/handlers/index.js","../../src/handlers/debug.js"],"sourcesContent":["export const allHandler = function(handlers) {\n  return Array.isArray(handlers) ?\n    (keys, value, proxy) => handlers.forEach(fn => fn(keys, value, proxy)) :\n    handlers\n}","const getWriteContext = function(prop) {\n  return Number.isInteger(Number.parseInt(prop, 10)) ? [] : {}\n}\nexport const writeHandler = function(target) {\n  if(!target)\n    throw new Error('writeHandler needs a proper target !')\n  return function(props, value) {\n    value = typeof value === 'object' ?\n      JSON.parse(JSON.stringify(value)) :\n      value\n    for(let i = 0; i < props.length - 1; i++) {\n      var prop = props[i]\n      if(typeof target[prop] === 'undefined')\n        target[prop] = getWriteContext(props[i + 1])\n      target = target[prop]\n    }\n    target[props[props.length - 1]] = value\n  }\n}","import { allHandler } from './all.js'\nimport { debugHandler } from './debug.js'\nimport { writeHandler } from './write.js'\n\nexport default {\n  write: writeHandler,\n  debug: debugHandler,\n  all: allHandler\n}","export const debugHandler = function(logger) {\n  logger = logger || console\n  return function(props, value) {\n    const keys = props.map(prop => Number.isInteger(Number.parseInt(prop)) ? `[${prop}]` : `.${prop}`).join('').substr(1)\n    logger.log(`${keys} = ${JSON.stringify(value, null, '\\t')}`)\n  }\n}"],"names":["getWriteContext","prop","Number","isInteger","parseInt","write","target","Error","props","value","JSON","parse","stringify","i","length","debug","logger","console","keys","map","join","substr","log","all","handlers","Array","isArray","proxy","forEach","fn"],"mappings":"uPAAO,MCADA,EAAkB,SAASC,GAC/B,OAAOC,OAAOC,UAAUD,OAAOE,SAASH,EAAM,KAAO,GAAK,CAAE,CAC9D,QCEe,CACbI,MDF0B,SAASC,GACnC,IAAIA,EACF,MAAM,IAAIC,MAAM,wCAClB,OAAO,SAASC,EAAOC,GACrBA,EAAyB,iBAAVA,EACbC,KAAKC,MAAMD,KAAKE,UAAUH,IAC1BA,EACF,IAAI,IAAII,EAAI,EAAGA,EAAIL,EAAMM,OAAS,EAAGD,IAAK,CACxC,IAAIZ,EAAOO,EAAMK,QACU,IAAjBP,EAAOL,KACfK,EAAOL,GAAQD,EAAgBQ,EAAMK,EAAI,KAC3CP,EAASA,EAAOL,EACjB,CACDK,EAAOE,EAAMA,EAAMM,OAAS,IAAML,CACnC,CACH,ECZEM,MCN0B,SAASC,GAEnC,OADAA,EAASA,GAAUC,QACZ,SAAST,EAAOC,GACrB,MAAMS,EAAOV,EAAMW,KAAIlB,GAAQC,OAAOC,UAAUD,OAAOE,SAASH,IAAS,IAAIA,KAAU,IAAIA,MAAQmB,KAAK,IAAIC,OAAO,GACnHL,EAAOM,IAAI,GAAGJ,OAAUR,KAAKE,UAAUH,EAAO,KAAM,QACrD,CACH,EDCEc,IFPwB,SAASC,GACjC,OAAOC,MAAMC,QAAQF,GACnB,CAACN,EAAMT,EAAOkB,IAAUH,EAASI,SAAQC,GAAMA,EAAGX,EAAMT,EAAOkB,KAC/DH,CACJ"}